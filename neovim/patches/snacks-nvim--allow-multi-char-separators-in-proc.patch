diff --git a/lua/snacks/picker/source/proc.lua b/lua/snacks/picker/source/proc.lua
index 76ac94c..e0a73e7 100644
--- a/lua/snacks/picker/source/proc.lua
+++ b/lua/snacks/picker/source/proc.lua
@@ -94,28 +94,26 @@ function M.proc(opts, ctx)
       end
     end)
 
-    ---@param data? string
-    local function process(data)
+    ---@param chunk? string
+    local function process(chunk)
       if aborted then
         return
       end
-      if not data then
+      if not chunk then
         return prev and cb({ text = prev })
       end
+      local data = prev and (prev .. chunk) or chunk
       local from = 1
       while from <= #data do
-        local nl = data:find(sep, from, true)
-        if nl then
-          local cr = data:byte(nl - 1, nl - 1) == 13 -- \r
-          local line = data:sub(from, nl - (cr and 2 or 1))
-          if prev then
-            line, prev = prev .. line, nil
+        local sep_start, sep_end = data:find(sep, from, true)
+        if sep_start then
+          local to = sep_start
+          if sep_start > 2 then
+            local cr = data:byte(sep_start - 1, sep_start - 1) == 13 -- \r
+            to = sep_start - (cr and 2 or 1)
           end
-          cb({ text = line })
-          from = nl + 1
-        elseif prev then
-          prev = prev .. data:sub(from)
-          break
+          cb({ text = data:sub(from, to) })
+          from = sep_end + 1
         else
           prev = data:sub(from)
           break
